<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>测试主页</title>
    <link rel="stylesheet" href="css/login.css">
    <script src="/js/jquery.min.js"></script>

    <script>
        $(document).ready(function () {

            $('#getMsgCode').click(function () {
                console.log("你好")
                var phoneNo = $('#phoneNo').val();
                var cartId = $('#cartId').val();
                if ( phoneNo == '' || cartId == '' ){
                    alert("请输入手机号和身份证信息")
                    return
                }
                var phoneNo = $('#phoneNo').val();
                var cartId = $('#cartId').val();
                $.ajax({
                    type: "GET",
                    url: "/getMessageCode",
                    data: {phoneId: phoneNo, cartId: cartId},
                    complete: function (data) {
                        alert(data.responseJSON.msg);
                    }
                });
            });
        })
    </script>
</head>

<body>

<div id="header">
    <h1 th:text="${title}"></h1>
</div>
<div id="con">
    <div id="left">
        <div><h3><a href="/login">1：完善个人信息并提交</a></h3></div>
        <div><h3><a href="/traindetail">2：选择列车详情</a></h3></div>
        <div><h3><a href="#">3：查询当前抢票详情</a></h3></div>
    </div>
    <div id="content">
        <div id="info">
            <div th:text="${key}"></div>
            <form th:action="@{/loginUserInfo}" method="post">
                <div class="form-row">
                    <label for="nameZh">姓名：</label>
                    <input type="text" id="nameZh" placeholder="姓名" name="nameZh" required>
                </div>
                <div class="form-row">
                    <label for="phoneNo">账号(注册手机)：</label>
                    <input type="text" placeholder="账号" name="phoneNo" id="phoneNo" required>
                </div>
                <div class="form-row">
                    <label for="cartId">身份证后四位：</label>
                    <input type="text" placeholder="身份证后四位" name="cartId" id="cartId" required>
                </div>
                <div class="form-row">
                    <button type="button" id="getMsgCode" value="获取验证码">获取验证码</button>
                </div>
                <div class="form-row">
                    <label for="randCode">验证码：</label>
                    <input type="text" placeholder="验证码" name="randCode" id="randCode" required>
                </div>
                <div class="form-row">
                    <label for="pwd">密码：</label>
                    <input type="password" placeholder="密码" name="pwd" id="pwd" required>
                </div>
                <div class="form-row">
                    <label for="email">邮箱：</label>
                    <input type="email" placeholder="邮箱" name="email" id="email" required>
                </div>
                <div class="form-row">
                    <label for="fromData">出发地：</label>
                    <select data-placeholder="请选择" id="fromData" name="fromData" required>
                        <option value="" selected>请选择</option>
                        <option th:each="code:${codeList}"
                                th:value="${code.stationCode}"
                                th:text="${code.stationTitle}"
                        ></option>
                    </select>
                </div>
                <div class="form-row">
                    <label for="toData">目的地：</label>
                    <select data-placeholder="请选择" id="toData" name="toData" required>
                        <option value="" selected>请选择</option>
                        <option th:each="code:${codeList}"
                                th:value="${code.stationCode}"
                                th:text="${code.stationTitle}"
                        ></option>
                    </select>
                </div>
                <div class="form-row">
                    <label for="startDate">出发日期：</label>
                    <input type="date" placeholder="出发日期" name="startDate" id="startDate" required>
                </div>
                <button type="submit" value="提交">提交</button>
            </form>
        </div>
    </div>
    <div id="right">
        <h1>右边栏</h1>
    </div>
</div>
<div id="footer">
    <h1>底部导航栏</h1>
</div>
</body>
</html>